@if (data && error === undefined) {
  <p-table
    #dt
    [value]="data"
    [columns]="headerData"
    sortMode="multiple"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    [loading]="isLoading"
    [paginator]="true">
    <ng-template pTemplate="header" let-columns>
      <tr>
        @for (column of columns; track $index) {
          <th style="" [pSortableColumn]="column">
            {{ column }}
            <p-sortIcon [field]="column" />
          </th>
        }
      </tr>
      <tr>
        @for (column of columns; track $index) {
          <th>
            <p-columnFilter
              type="text"
              field="{{ column }}"
              placeholder="Search by {{ column }}"
              ariaLabel="Filter {{ column }}" />
          </th>
        }
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        @for (column of columns; track $index) {
          <td class="truncate">
            {{ rowData[column] }}
          </td>
        }
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="{{ data[0]?.length }}">No data found.</td>
      </tr>
    </ng-template>
  </p-table>
}
@if (error) {
  <div class="text-red-500">{{ error }}</div>
}
