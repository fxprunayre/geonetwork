@switch (layout()) {
  @case (SearchAggLayout.CHIP) {
    <p-chip
      (click)="switchValue()"
      (keydown)="switchValue()"
      class="cursor-pointer flex items-center pl-0 pr-2 m-2">
      <span [class]="{ 'ml-2': true, 'font-bold': isActive() }">
        <g-search-agg-item-decorator
          [bucket]="bucket()"
          [aggregationConfig]="aggregationConfig()"
          [isActive]="isActive()" />
        {{ bucket().key + ' (' + bucket().doc_count + ')' }}
      </span>
    </p-chip>
  }
  @case (SearchAggLayout.CARD) {
    <p-card
      [header]="bucket().key"
      [subheader]="bucket().doc_count + ' resources'"
      class="cursor-pointer w-full m-2"
      (click)="switchValue()"
      (keydown)="switchValue()"
      [styleClass]="
        isActive()
          ? 'border-l-8 -left-8  border-primary-500'
          : 'border-l-8 -left-8 border-transparent hover:border-primary-500'
      ">
      <ng-template pTemplate="header">
        <g-search-agg-item-decorator
          [bucket]="bucket()"
          [aggregationConfig]="aggregationConfig()"
          [isActive]="isActive()" />
      </ng-template>
    </p-card>
  }
  @default {
    <div>
      <p-checkbox
        [(ngModel)]="checked"
        [value]="isActive()"
        [binary]="true"
        (ngModelChange)="handleCheck($event)"
        [inputId]="'gn-agg-item-' + field() + '-' + bucket().key" />
      <label [for]="'gn-agg-item-' + field() + '-' + bucket().key" class="ml-2">
        {{ bucket().key + ' (' + bucket().doc_count + ')' }}
      </label>
    </div>
  }
}
