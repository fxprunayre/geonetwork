<ng-template #defaultBackButton></ng-template>

@if (recordStatus(); as status) {
  <p>{{ status }}</p>
}
@if (record(); as record) {
  <div class="flex p-4">
    <div class="basis-2/3">
      <ng-container
        *ngTemplateOutlet="
          backButtonTplRef() || defaultBackButton
        "></ng-container>
      <h1 class="text-4xl font-extrabold my-10">
        {{ record.resourceTitleObject?.default }}
      </h1>
    </div>
    <div class="basis-1/3"></div>
  </div>

  <p-tabView>
    <p-tabPanel>
      <ng-template pTemplate="header">
        <div class="flex align-items-center gap-2">
          <i class="fa fa-info"></i>
          <span class="font-bold white-space-nowrap m-0"> Information </span>
        </div>
      </ng-template>
      <div class="flex gap-4">
        <div class="basis-2/3">
          <div class="shadow-lg p-4">
            {{ record.resourceAbstractObject?.default }}
          </div>

          <div class="shadow-lg p-4">
            <g-record-field-keywords [field]="record.tag" />
          </div>

          <p-accordion [multiple]="true" [activeIndex]="[0]">
            <p-accordionTab header="Licenses and use constraints">
              <p></p>
            </p-accordionTab>
            <p-accordionTab header="Technical information">
              <p></p>
            </p-accordionTab>
            <p-accordionTab header="Extents">
              <p></p>
            </p-accordionTab>
            <p-accordionTab header="Lineage">
              <p></p>
            </p-accordionTab>
          </p-accordion>
        </div>
        <div class="basis-1/3">
          <div class="shadow-lg p-4 aspect-square">
            <g-record-field-overview [field]="record.overview" />
          </div>
        </div>
      </div>
    </p-tabPanel>
    <p-tabPanel>
      <ng-template pTemplate="header">
        <div class="flex align-items-center gap-2">
          <i class="fa fa-database"></i>
          <span class="font-bold white-space-nowrap m-0"> Preview </span>
        </div>
      </ng-template>
      <p></p>
    </p-tabPanel>
    <p-tabPanel>
      <ng-template pTemplate="header">
        <div class="flex align-items-center gap-2">
          <i class="fa fa-download"></i>
          <span class="font-bold white-space-nowrap m-0"> Distribution </span>
        </div>
      </ng-template>
      <p>
        <g-record-field-links [field]="record.link" />
      </p>
    </p-tabPanel>
    <p-tabPanel>
      <ng-template pTemplate="header">
        <div class="flex align-items-center gap-2">
          <i class="fa fa-table"></i>
          <span class="font-bold white-space-nowrap m-0"> Model </span>
        </div>
      </ng-template>
      <p></p>
    </p-tabPanel>
  </p-tabView>
}
