@defer (on viewport) {
  <ng-container gSearchContext="{{ searchId }}"
                [size]="currentSize()"
                [filter]="currentFilter()">
    @if (filters()) {
      <p-toolbar styleClass="flex justify-start gap-4">
        @for (filter of filters(); track filter) {
          <g-search-agg
            [layout]="SearchAggLayout.MULTISELECT"
            [aggregation]="filter"
            [isLabelDisplayed]="false"
            [scope]="searchId" />
        }
      </p-toolbar>
    }
    <g-search-results-table
      [scope]="searchId"
      [fields]="fields()"
      [labels]="labels()"
      [selectionMode]="selectionMode"
      [scrollHeight]="scrollHeight"
      [landingPage]="landingPage"
      [landingPageLinkOn]="landingPageLinkOn"
      [apiUrl]="apiUrl" />
  </ng-container>
} @placeholder {
  <p>Loading ...</p>
}
