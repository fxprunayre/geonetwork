<div class="flex">
  <div
    class="relative bg-slate-300 p-4 w-1/3"
    gSearchContext="highlights"
    size="5"
    [sort]="[{ changeDate: 'desc' }, '_score']">
    <h1 class="text-4xl mb-4">Highlights this month</h1>

    <g-search-results-timeline scope="highlights" />
  </div>

  <div class="p-4 w-1/3 border-r-2">
    <h1 class="text-4xl mb-4">Topics</h1>

    <g-search-agg
      aggregation="cl_topic"
      isLabelDisplayed="false"
      scope="main" />
  </div>

  <div class="p-4 w-1/3">
    <h1 class="text-4xl mb-4">Numbers</h1>

    <g-search-agg
      aggregation="resourceType"
      [layout]="SearchAggLayout.CHIP"
      isLabelDisplayed="false"
      scope="main" />
  </div>
</div>

@for(infoPanel of uiConfiguration?.mods?.home.info; track $index) {
  @switch (infoPanel.type) {
    @case ('search') {
      <div
        class="w-screen"
        gSearchContext="highlights-{{$index}}"
        [size]="getSize(infoPanel.params)"
        [sort]="getSort(infoPanel.params)">
        <div
          class="my-8 p-8 text-white bg-gray-800 bg-blend-overlay"
          gSearchResultsFirstOverviewAsBackground="highlights-{{$index}}">
          <h1 class="font-bold text-3xl mb-8">
            {{ infoPanel.title }}
          </h1>
          @if (infoPanel.description) {
            <p class="mb-8">
              {{ infoPanel.description }}
            </p>
          }
          <g-search-results-carousel scope="highlights-{{$index}}" />
        </div>
      </div>
    }
    @case ('Comments') {
      <div
        class="w-screen">
        <div
          class="my-8 p-8 text-white bg-gray-800 bg-blend-overlay">
          <h1 class="font-bold text-3xl mb-8">
            Comments
          </h1>
        </div>
      </div>
    }
  }
}
